<div class="relative w-60 h-60 mx-auto">
  <!-- Imagen base (puntos cardinales) -->
  <img
    src="img/compass-base.svg"
    alt="Puntos cardinales"
    class="absolute inset-0 w-full h-full z-10"
  />

  <!-- Imagen de la brújula (aguja que rota) -->
  <img
    src="img/compass-needle.svg"
    alt="Brújula giratoria"
    class="absolute inset-0 w-full h-full z-20 transition-transform duration-300"
    id="needle"
  />
</div>

<script is:inline>
  const needle = document.getElementById('needle');
  let rotation = 0;

  // Para mouse
  window.addEventListener('wheel', (e) => {
    rotation += e.deltaY * 0.1;
    needle.style.transform = `rotate(${rotation}deg)`;
  });

  // Para táctil (mobile)
  let startY = 0;

  window.addEventListener('touchstart', (e) => {
    startY = e.touches[0].clientY;
  });

  window.addEventListener('touchmove', (e) => {
    const currentY = e.touches[0].clientY;
    const deltaY = currentY - startY;
    rotation += deltaY * 0.1; // Ajusta sensibilidad
    needle.style.transform = `rotate(${rotation}deg)`;
    startY = currentY; // Actualiza para siguiente movimiento
  });
</script>
